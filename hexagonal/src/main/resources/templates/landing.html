<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nutrición inteligente, decisiones saludables</title>
    <!-- Enlace al favicon.ico -->
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- Bootstrap CSS NECESARIO DEBE IR EN TODAS LAS PAGINAS CON NAV Y TAMBIEN LO DEL FINAL DEL BODY-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome (si usás íconos como el `fa-leaf`) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Sobrescribir el color principal de los enlaces y botones */

        :root {
            --primary-color: #5a9e34;
            --secondary-color: #343a40;
            --light-color: #f8f9fa;
            --dark-color: #212529;

        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .navbar {
            background-color: var(--secondary-color);
        }

        .navbar-brand {
            font-weight: 700;
            color: var(--primary-color) !important;
        }

        .btn-primary {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: #5a9e34;
            border-color: #5a9e34;
            color: white;
        }

        .btn-outline-primary {
            color: var(--primary-color) !important;
            border-color: var(--primary-color) !important;
        }

        .btn-outline-primary:hover {
            background-color: var(--primary-color) !important;
            color: white !important;
            border-color: var(--primary-color) !important;
        }

        .feature-icon i,
        .social-icon i {
            color: var(--primary-color) !important;
        }

        .text-primary {
            color: var(--primary-color) !important;
            /* Asegurar que el texto con esta clase sea verde */
        }

        .hero-section {
            background: linear-gradient(135deg, var(--secondary-color) 0%, var(--dark-color) 100%);
            color: white;
            padding: 5rem 0;
        }

        .feature-card {
            transition: transform 0.3s;
            height: 100%;
        }

        .feature-card:hover {
            transform: translateY(-10px);
        }

        .cta-section {
            background-color: var(--primary-color);
            color: white;
            padding: 4rem 0;
        }

        footer {
            background-color: var(--secondary-color);
            color: white;
        }

        .tech-logo {
            height: 50px;
            margin: 15px;
            opacity: 0.7;
            transition: opacity 0.3s;
        }

        .tech-logo:hover {
            opacity: 1;
        }

        .bg-custom-primary {
            background-color: var(--primary-color);
            color: #6db33f;
        }

        /* Reducir el padding en la sección de precios */
        #pricing {
            padding: 3rem 1rem;
            /* Menos padding en la parte superior e inferior */
        }

        /* Ajustar la distancia entre el título y el contenido */
        #pricing .text-center.mb-5 {
            margin-bottom: 2rem;
            /* Menos espacio entre el título y la primera fila */
        }

        /* Reducir el tamaño de las tarjetas */
        .card {
            margin-bottom: 1.5rem;
            /* Menos espacio entre las tarjetas */
        }

        /* Ajustar las tarjetas para hacerlas más compactas */
        .card-body {
            padding: 1rem;
            /* Reducir el padding de las tarjetas */
        }

        /* Reducir el tamaño de los títulos dentro de las tarjetas */
        .card-title {
            font-size: 1.5rem;
            /* Reducir el tamaño de los títulos */
        }

        /* Reducir el tamaño de los botones */
        .card button {
            padding: 0.75rem;
            /* Botones más pequeños */
            font-size: 0.9rem;
            /* Font size más pequeño para los botones */
        }

        /* Reducir el tamaño de los textos de las listas */
        .card-body .list-unstyled li {
            font-size: 0.875rem;
            /* Texto más pequeño en las listas */
        }
    </style>
</head>
<body>
     <div id="navbar-container">
        <!-- Este se actualizará con JavaScript después del login -->
    </div>
    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h1 class="display-4 fw-bold mb-4">Nutrición inteligente, decide y avanza</h1>
                    <p class="lead mb-4"><strong>Prestar atención a tu cuerpo</strong>, reducir el consumo
                        ineficiente y <strong>mejorar tu rendimiento</strong></p>
                    <div class="d-flex gap-3">
                        <a href="#cta" th:href="@{/login}" class="btn btn-primary ms-lg-3">
                            <i class="fa fa-home fa-fw" aria-hidden="true"></i>&nbsp; Entrar
                        </a>
                    </div>
                </div>
                <div class="col-lg-6 mt-5 mt-lg-0">
                    <img th:src="@{images/portada.jpg}" alt="Nutricion inteligente" class="img-fluid rounded shadow">
                </div>
            </div>
        </div>
    </section>
    <!-- Tech Stack Section Reemplazada por Redes Sociales -->
    <section class="py-2 bg-light">
        <div class="container text-center">
            <h4 class="mb-2"></h4>
            <div class="d-flex flex-wrap justify-content-center align-items-center gap-4">
                <a href="https://discord.com/invite/tu_canal" target="_blank" class="social-icon">
                    <i class="fab fa-discord fa-2x"></i>
                </a>
                <a href="https://linkedin.com/company/tu_empresa" target="_blank" class="social-icon">
                    <i class="fab fa-linkedin fa-2x "></i>
                </a>
                <a href="https://github.com/tu_organizacion" target="_blank" class="social-icon">
                    <i class="fab fa-github fa-2x "></i>
                </a>
                <a href="https://youtube.com/tu_canal" target="_blank" class="social-icon">
                    <i class="fab fa-youtube fa-2x "></i>
                </a>
                <a href="https://instagram.com/tu_cuenta" target="_blank" class="social-icon">
                    <i class="fab fa-instagram fa-2x "></i>
                </a>
            </div>
        </div>
    </section>
    <!-- Features Section -->
    <section id="features" class="py-4">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="fw-bold">Opciones de uso</h2>
            </div>
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="card feature-card shadow-sm p-4">
                        <div class="text-center">
                            <div class="feature-icon">
                                <i class="fas fa-bolt"></i>
                            </div>
                            <h4>Uso ágil</h4>
                            <p>Consulta datos de productos</p>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="card feature-card shadow-sm p-4">
                        <div class="text-center">
                            <div class="feature-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <h4>Aprovéchalo</h4>
                            <p>Registra tu despensa y tus consumos.</p>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="card feature-card shadow-sm p-4">
                        <div class="text-center">
                            <div class="feature-icon">
                                <i class="fas fa-database"></i>
                            </div>
                            <h4>Recibe feedback</h4>
                            <p>Interpretacion con insights o puntos fuertes.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Agrega esta sección después del hero o antes del footer -->
    <section class="py-4 bg-light">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-2 text-center mb-4 mb-md-0">
                    <img src="https://static.openfoodfacts.org/images/logos/off-logo-horizontal-light.png"
                        alt="OpenFoodFacts" style="max-height: 80px;">
                </div>
                <div class="col-md-10">
                    <h3>Datos alimenticios proporcionados por OpenFoodFacts</h3>
                    <p>Esta aplicación utiliza la API de OpenFoodFacts, una base de datos abierta y colaborativa de información nutricional. </p>
                    <p> Agradecemos a esta increíble comunidad por hacer posible acceder a datos alimenticios de manera libre y transparente.</p>                  
                    <a href="https://world.openfoodfacts.org/" target="_blank" class="btn btn-outline-primary">Visitar
                        OpenFoodFacts</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section class="py-4 bg-light">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="fw-bold">Lo que dicen nuestros usuarios</h2>
            </div>
            <div class="row">
                <div class="col-lg-4 mb-4">
                    <div class="card h-100 p-4">
                        <div class="d-flex align-items-center mb-3">
                            <img th:src="@{/images/usuario.png}" alt="Cliente" class="rounded-circle me-3"
                                style="width: 50px; height: 50px;">
                            <div>
                                <h5 class="mb-0">Carlos Rodríguez</h5>
                            </div>
                        </div>
                        <p class="mb-0">"La aplicación me encanta para registrar rápidamente lo que como, sin complicaciones. 
                            Me gustaría que la búsqueda de productos fuera más intuitiva, pero en general cumple con lo que necesito."</p>
                    </div>
                </div>
                <div class="col-lg-4 mb-4">
                    <div class="card h-100 p-4">
                        <div class="d-flex align-items-center mb-3">
                            <img th:src="@{/images/usuario.png}" alt="Cliente" class="rounded-circle me-3"
                                style="width: 50px; height: 50px;">
                            <div>
                                <h5 class="mb-0">Ana Martínez</h5>

                            </div>
                        </div>
                        <p class="mb-0">"La función de recomendaciones según mis metas de proteínas y calorías es increíblemente útil. 
                            Sin embargo, a veces tarda en cargar los datos de la API externa, lo que ralentiza mi rutina"</p>
                    </div>
                </div>
                <div class="col-lg-4 mb-4">
                    <div class="card h-100 p-4">
                        <div class="d-flex align-items-center mb-3">
                            <img th:src="@{/images/usuario.png}" alt="Cliente" class="rounded-circle me-3"
                                style="width: 50px; height: 50px;">
                            <div>
                                <h5 class="mb-0">David Fernández</h5>
                            </div>
                        </div>
                        <p class="mb-0">"Me ayuda a entender mejor lo que como y a organizar mi despensa sin abrumarme. 
                            Aunque al principio me costó entender algunas opciones, ahora la uso a diario"</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Pricing Section -->
    <section id="pricing" class="p4-5">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="fw-bold">Planes y Precios</h2>
            </div>
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="card h-100 shadow-sm">
                        <div class="card-header bg-light py-3">
                            <h4 class="my-0 fw-normal text-center">Básico</h4>
                        </div>
                        <div class="card-body">
                            <h2 class="card-title pricing-card-title text-center">Gratis<small
                                    class="text-muted fw-light"></small></h2>
                            <ul class="list-unstyled mt-3 mb-4">
                                <li class="mb-2"><i class="fas fa-check text-primary me-2"></i> Consulta productos</li>
                                <li class="mb-2"><i class="fas fa-check text-primary me-2"></i> Despensa</li>
                                <li class="mb-2"><i class="fas fa-check text-primary me-2"></i> Soporte por correo</li>
                            </ul>
                             <a th:href="@{/login}" id="login-button"  class="btn btn-primary ms-lg-3"> Empezar </a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card h-100 shadow-lg">
                        <div class="card-header bg-custom-primary py-3">
                            <h4 class="my-0 fw-normal text-center">Pro</h4>
                        </div>
                        <div class="card-body">
                            <h2 class="card-title pricing-card-title text-center">49€<small
                                    class="text-muted fw-light">/año</small></h2>
                            <ul class="list-unstyled mt-3 mb-4">
                                <li class="mb-2"><i class="fas fa-check text-primary me-2"></i> Consulta productos</li>
                                <li class="mb-2"><i class="fas fa-check text-primary me-2"></i> Despensa</li>
                                <li class="mb-2"><i class="fas fa-check text-primary me-2"></i> Consumos</li>
                                <li class="mb-2"><i class="fas fa-check text-primary me-2"></i> Soporte por correo</li>
                                <li class="mb-2"><i class="fas fa-check text-primary me-2"></i> Seguridad </li>
                                <li class="mb-2"><i class="fas fa-check text-primary me-2"></i> Insights</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card h-100 shadow-sm">
                        <div class="card-header bg-light py-3">
                            <h4 class="my-0 fw-normal text-center">Pack duo</h4>
                        </div>
                        <div class="card-body">
                            <h2 class="card-title pricing-card-title text-center">99€<small
                                    class="text-muted fw-light">/año</small></h2>
                            <ul class="list-unstyled mt-3 mb-4">
                                <li class="mb-2"><i class="fas fa-check text-primary me-2"></i> Consulta productos</li>
                                <li class="mb-2"><i class="fas fa-check text-primary me-2"></i> Despensa</li>
                                <li class="mb-2"><i class="fas fa-check text-primary me-2"></i> Consumos</li>
                                <li class="mb-2"><i class="fas fa-check text-primary me-2"></i> Soporte por correo</li>
                                <li class="mb-2"><i class="fas fa-check text-primary me-2"></i> Seguridad </li>
                                <li class="mb-2"><i class="fas fa-check text-primary me-2"></i> Insights</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- CTA Section -->
    <section id="cta" class="cta-section">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8 text-center">
                    <h2 class="fw-bold mb-4">¿Listo para impulsarte?</h2>
                    <p class="lead mb-5">Regístrate y prueba tu cuenta gratuita.</p>                 
                        <div class="d-inline-block" style="max-width: 300px; width: 100%;">
                            <a th:href="@{/login}" class="btn btn-dark btn-lg w-100">
                                <i class="fa fa-sign-in fa-fw" ></i>&nbsp; Vamos allá</a>
                        </div>                
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-4">
        <div class="container">
            <div class="row">
                <div class="col-lg-5">
                    <h2 class="fw-bold mb-4">Contáctanos</h2>
                    <p class="mb-4">¿Tienes preguntas?</p>
                    <p class="mb-4">Nuestro equipo está aquí para ayudarte.</p>
                    <div class="d-flex align-items-start mb-3">
                        <i class="fas fa-envelope mt-1 me-3"></i>
                        <div>
                            <h5 class="mb-1">Escríbemos</h5>
                            <p class="mb-0">soporte@smartdietnutricioninteligente.com</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-7 mt-5 mt-lg-0">
                    <form>
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="name" class="form-label">Nombre</label>
                                <input type="text" class="form-control" id="name" required>
                            </div>
                            <div class="col-md-6">
                                <label for="email" class="form-label">Correo Electrónico</label>
                                <input type="email" class="form-control" id="email" required>
                            </div>
                            <div class="col-12">
                                <label for="subject" class="form-label">Asunto</label>
                                <input type="text" class="form-control" id="subject" required>
                            </div>
                            <div class="col-12">
                                <label for="message" class="form-label">Mensaje</label>
                                <textarea class="form-control" id="message" rows="5" required></textarea>
                            </div>
                            <div class="col-12">
                                <button type="submit" class="btn btn-primary">Enviar Mensaje</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-4">
        <div class="container">
            <div class="row">
                <div class="col-lg-3 mb-4 mb-lg-0">
                    <h5 class="text-primary mb-4">Smart diet, nutricion inteligente</h5>
                    <p>La solución que te ahorra tiempo y esfuerzo.</p>
                    <p>Mejora tu calidad de vida.</p>
                    <div class="d-flex gap-3 mt-4">
                        <a href="#" class="text-white"><i class="fab fa-linkedin fa-lg"></i></a>
                        <a href="#" class="text-white"><i class="fab fa-github fa-lg"></i></a>
                        <a href="#" class="text-white"><i class="fab fa-youtube fa-lg"></i></a>
                        <a href="#" class="text-white"><i class="fab fa-instagram fa-lg"></i></a>
                        <a href="#" class="text-white"><i class="fab fa-discord fa-lg"></i></a>
                    </div>
                </div>
            </div>
            <hr class="my-4 bg-secondary">
            <div class="row">
                <div class="col-md-6 text-center text-md-start">
                    <p class="mb-0">&copy; 2025 Nutrición inteligente, decisiones saludables. Todos los derechos
                        reservados.</p>
                </div>
                <div class="col-md-6 text-center text-md-end">
                    <a href="#" class="text-white text-decoration-none me-3">Términos de Servicio</a>
                    <a href="#" class="text-white text-decoration-none">Política de Privacidad</a>
                </div>
            </div>
        </div>
    </footer>
    <!-- Bootstrap JS + Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module">
        import { auth } from '/auth.js';
 
        window.addEventListener("DOMContentLoaded", async () => {
          
            const token = auth.obtenerToken();
            // Cargar el navbar
            fetch('/navbar-fragment')
                .then(response => response.text())
                .then(html => {
                    document.getElementById('navbar-container').innerHTML = html;
                    updateNav();
                    // Ahora que el navbar ya está en el DOM, agregamos el event listener
                    const logoutBtn = document.getElementById('logout-button');
                    if (logoutBtn) {
                        logoutBtn.addEventListener('click', (e) => {
                            e.preventDefault(); // Previene comportamiento por defecto si es un <a>
                            auth.cerrarSesion();  // Borra token, etc.
                            updateNav();
                            window.location.href = "/login";
                        });
                    }

                });
        })
        // Esta función oculta los elementos basados en la autenticación
        function updateNav() {
            const isAuthenticated = !!auth.obtenerToken() && auth.estaAutenticado(); // Basado en JWT

            // Mostrar/ocultar elementos de autenticados
            document.querySelectorAll('.auth-only').forEach(el => {
                el.style.display = isAuthenticated ? '' : 'none';
            });

            // Mostrar/ocultar elementos de no autenticados
            document.querySelectorAll('.guest-only').forEach(el => {
                el.style.display = isAuthenticated ? 'none' : '';
            });
        }

    </script>
</body>

</html>